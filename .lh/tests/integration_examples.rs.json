{
    "sourceFile": "tests/integration_examples.rs",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1762034700385,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762034861302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,16 +16,21 @@\n         .args(&args)\n         .stdout(Stdio::piped())\n         .stderr(Stdio::piped())\n         .spawn()\n-        .map_err(|e| clap_noun_verb::error::NounVerbError::execution_error(\n-            format!(\"Failed to spawn cargo: {}\", e)\n-        ))?;\n+        .map_err(|e| {\n+            clap_noun_verb::error::NounVerbError::execution_error(format!(\n+                \"Failed to spawn cargo: {}\",\n+                e\n+            ))\n+        })?;\n \n-    let output = cmd.wait_with_output()\n-        .map_err(|e| clap_noun_verb::error::NounVerbError::execution_error(\n-            format!(\"Failed to wait for process: {}\", e)\n-        ))?;\n+    let output = cmd.wait_with_output().map_err(|e| {\n+        clap_noun_verb::error::NounVerbError::execution_error(format!(\n+            \"Failed to wait for process: {}\",\n+            e\n+        ))\n+    })?;\n \n     let stdout = String::from_utf8_lossy(&output.stdout).to_string();\n     let stderr = String::from_utf8_lossy(&output.stderr).to_string();\n     let combined = format!(\"{}\\n{}\", stdout, stderr);\n@@ -39,10 +44,13 @@\n     // Test that the basic example compiles and shows help\n     let (output, _code) = run_example(\"basic\", vec![\"--help\"])?;\n \n     // Should show help (exit code 0) or error gracefully\n-    assert!(output.contains(\"services\") || output.contains(\"collector\"),\n-        \"Help should mention services or collector. Got: {}\", output);\n+    assert!(\n+        output.contains(\"services\") || output.contains(\"collector\"),\n+        \"Help should mention services or collector. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -52,10 +60,13 @@\n     // Test that basic example can execute a command\n     let (output, _code) = run_example(\"basic\", vec![\"services\", \"status\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n-        \"Should output JSON with services. Got: {}\", output);\n+    assert!(\n+        output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n+        \"Should output JSON with services. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -65,10 +76,13 @@\n     // Test services example\n     let (output, _code) = run_example(\"services\", vec![\"services\", \"status\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n-        \"Should output JSON. Got: {}\", output);\n+    assert!(\n+        output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n+        \"Should output JSON. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -78,10 +92,13 @@\n     // Test services example with arguments\n     let (output, _code) = run_example(\"services\", vec![\"services\", \"logs\", \"--service\", \"web\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"web\") || output.contains(\"\\\"service\\\"\"),\n-        \"Should output JSON with service. Got: {}\", output);\n+    assert!(\n+        output.contains(\"web\") || output.contains(\"\\\"service\\\"\"),\n+        \"Should output JSON with service. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -91,61 +108,66 @@\n     // Test collector example\n     let (output, _code) = run_example(\"collector\", vec![\"collector\", \"status\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"state\") || output.contains(\"\\\"state\\\"\"),\n-        \"Should output JSON with state. Got: {}\", output);\n+    assert!(\n+        output.contains(\"state\") || output.contains(\"\\\"state\\\"\"),\n+        \"Should output JSON with state. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n #[test]\n #[ignore]\n fn test_arguments_example() -> Result<()> {\n     // Test arguments example with required and optional args\n-    let (output, _code) = run_example(\"arguments\", vec![\n-        \"services\", \"logs\",\n-        \"--service\", \"api\",\n-        \"--lines\", \"10\"\n-    ])?;\n+    let (output, _code) =\n+        run_example(\"arguments\", vec![\"services\", \"logs\", \"--service\", \"api\", \"--lines\", \"10\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n-        \"Should output JSON with service. Got: {}\", output);\n+    assert!(\n+        output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n+        \"Should output JSON with service. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n #[test]\n #[ignore]\n fn test_arguments_example_with_flag() -> Result<()> {\n     // Test arguments example with boolean flag\n-    let (output, _code) = run_example(\"arguments\", vec![\n-        \"services\", \"restart\",\n-        \"--service\", \"api\",\n-        \"--force\"\n-    ])?;\n+    let (output, _code) =\n+        run_example(\"arguments\", vec![\"services\", \"restart\", \"--service\", \"api\", \"--force\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n-        \"Should output JSON with service. Got: {}\", output);\n+    assert!(\n+        output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n+        \"Should output JSON with service. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n #[test]\n #[ignore]\n fn test_validation_example() -> Result<()> {\n     // Test validation example\n-    let (output, _code) = run_example(\"validation\", vec![\"users\", \"create\",\n-        \"--name\", \"test\",\n-        \"--age\", \"25\",\n-        \"--email\", \"test@example.com\"\n-    ])?;\n+    let (output, _code) = run_example(\n+        \"validation\",\n+        vec![\"users\", \"create\", \"--name\", \"test\", \"--age\", \"25\", \"--email\", \"test@example.com\"],\n+    )?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"test\") || output.contains(\"\\\"name\\\"\"),\n-        \"Should output JSON with user. Got: {}\", output);\n+    assert!(\n+        output.contains(\"test\") || output.contains(\"\\\"name\\\"\"),\n+        \"Should output JSON with user. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -155,10 +177,13 @@\n     // Test nested example\n     let (output, _code) = run_example(\"nested\", vec![\"test\", \"run\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"tests\") || output.contains(\"\\\"tests_run\\\"\"),\n-        \"Should output JSON. Got: {}\", output);\n+    assert!(\n+        output.contains(\"tests\") || output.contains(\"\\\"tests_run\\\"\"),\n+        \"Should output JSON. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -168,10 +193,13 @@\n     // Test framework example\n     let (output, _code) = run_example(\"framework\", vec![\"services\", \"status\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n-        \"Should output JSON. Got: {}\", output);\n+    assert!(\n+        output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n+        \"Should output JSON. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n@@ -181,27 +209,31 @@\n     // Test attribute_macro example\n     let (output, _code) = run_example(\"attribute_macro\", vec![\"services\", \"status\"])?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n-        \"Should output JSON. Got: {}\", output);\n+    assert!(\n+        output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n+        \"Should output JSON. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n \n #[test]\n #[ignore]\n fn test_attribute_macro_example_with_args() -> Result<()> {\n     // Test attribute_macro example with arguments\n-    let (output, _code) = run_example(\"attribute_macro\", vec![\n-        \"services\", \"logs\",\n-        \"--service\", \"api\",\n-        \"--lines\", \"20\"\n-    ])?;\n+    let (output, _code) = run_example(\n+        \"attribute_macro\",\n+        vec![\"services\", \"logs\", \"--service\", \"api\", \"--lines\", \"20\"],\n+    )?;\n \n     // Should produce JSON output\n-    assert!(output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n-        \"Should output JSON with service. Got: {}\", output);\n+    assert!(\n+        output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n+        \"Should output JSON with service. Got: {}\",\n+        output\n+    );\n \n     Ok(())\n }\n-\n"
                }
            ],
            "date": 1762034700385,
            "name": "Commit-0",
            "content": "//! Integration tests for examples\n//!\n//! These tests verify that all examples compile and can execute commands.\n//! They are marked with `#[ignore]` so they don't run as part of the default\n//! test suite. Run them explicitly with:\n//!   - `cargo test --test integration_examples -- --ignored`\n//!   - `cargo test --test integration_examples --ignored`\n\nuse clap_noun_verb::error::Result;\nuse std::process::{Command, Stdio};\n\n/// Helper function to run an example and capture output\nfn run_example(example_name: &str, args: Vec<&str>) -> Result<(String, i32)> {\n    let mut cmd = Command::new(\"cargo\")\n        .args(&[\"run\", \"--example\", example_name, \"--\"])\n        .args(&args)\n        .stdout(Stdio::piped())\n        .stderr(Stdio::piped())\n        .spawn()\n        .map_err(|e| clap_noun_verb::error::NounVerbError::execution_error(\n            format!(\"Failed to spawn cargo: {}\", e)\n        ))?;\n\n    let output = cmd.wait_with_output()\n        .map_err(|e| clap_noun_verb::error::NounVerbError::execution_error(\n            format!(\"Failed to wait for process: {}\", e)\n        ))?;\n\n    let stdout = String::from_utf8_lossy(&output.stdout).to_string();\n    let stderr = String::from_utf8_lossy(&output.stderr).to_string();\n    let combined = format!(\"{}\\n{}\", stdout, stderr);\n\n    Ok((combined, output.status.code().unwrap_or(-1)))\n}\n\n#[test]\n#[ignore]\nfn test_basic_example_help() -> Result<()> {\n    // Test that the basic example compiles and shows help\n    let (output, _code) = run_example(\"basic\", vec![\"--help\"])?;\n\n    // Should show help (exit code 0) or error gracefully\n    assert!(output.contains(\"services\") || output.contains(\"collector\"),\n        \"Help should mention services or collector. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_basic_example_services_status() -> Result<()> {\n    // Test that basic example can execute a command\n    let (output, _code) = run_example(\"basic\", vec![\"services\", \"status\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n        \"Should output JSON with services. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_services_example() -> Result<()> {\n    // Test services example\n    let (output, _code) = run_example(\"services\", vec![\"services\", \"status\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n        \"Should output JSON. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_services_example_logs() -> Result<()> {\n    // Test services example with arguments\n    let (output, _code) = run_example(\"services\", vec![\"services\", \"logs\", \"--service\", \"web\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"web\") || output.contains(\"\\\"service\\\"\"),\n        \"Should output JSON with service. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_collector_example() -> Result<()> {\n    // Test collector example\n    let (output, _code) = run_example(\"collector\", vec![\"collector\", \"status\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"state\") || output.contains(\"\\\"state\\\"\"),\n        \"Should output JSON with state. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_arguments_example() -> Result<()> {\n    // Test arguments example with required and optional args\n    let (output, _code) = run_example(\"arguments\", vec![\n        \"services\", \"logs\",\n        \"--service\", \"api\",\n        \"--lines\", \"10\"\n    ])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n        \"Should output JSON with service. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_arguments_example_with_flag() -> Result<()> {\n    // Test arguments example with boolean flag\n    let (output, _code) = run_example(\"arguments\", vec![\n        \"services\", \"restart\",\n        \"--service\", \"api\",\n        \"--force\"\n    ])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n        \"Should output JSON with service. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_validation_example() -> Result<()> {\n    // Test validation example\n    let (output, _code) = run_example(\"validation\", vec![\"users\", \"create\",\n        \"--name\", \"test\",\n        \"--age\", \"25\",\n        \"--email\", \"test@example.com\"\n    ])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"test\") || output.contains(\"\\\"name\\\"\"),\n        \"Should output JSON with user. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_nested_example() -> Result<()> {\n    // Test nested example\n    let (output, _code) = run_example(\"nested\", vec![\"test\", \"run\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"tests\") || output.contains(\"\\\"tests_run\\\"\"),\n        \"Should output JSON. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_framework_example() -> Result<()> {\n    // Test framework example\n    let (output, _code) = run_example(\"framework\", vec![\"services\", \"status\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n        \"Should output JSON. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_attribute_macro_example() -> Result<()> {\n    // Test attribute_macro example\n    let (output, _code) = run_example(\"attribute_macro\", vec![\"services\", \"status\"])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"services\") || output.contains(\"\\\"services\\\"\"),\n        \"Should output JSON. Got: {}\", output);\n\n    Ok(())\n}\n\n#[test]\n#[ignore]\nfn test_attribute_macro_example_with_args() -> Result<()> {\n    // Test attribute_macro example with arguments\n    let (output, _code) = run_example(\"attribute_macro\", vec![\n        \"services\", \"logs\",\n        \"--service\", \"api\",\n        \"--lines\", \"20\"\n    ])?;\n\n    // Should produce JSON output\n    assert!(output.contains(\"api\") || output.contains(\"\\\"service\\\"\"),\n        \"Should output JSON with service. Got: {}\", output);\n\n    Ok(())\n}\n\n"
        }
    ]
}