{
    "sourceFile": "examples/basic.rs",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1762034411351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762035018213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,13 +22,9 @@\n     }\n }\n \n fn restart_service(service: String) -> RestartResult {\n-    RestartResult {\n-        service,\n-        success: true,\n-        message: \"Service restarted successfully\".to_string(),\n-    }\n+    RestartResult { service, success: true, message: \"Service restarted successfully\".to_string() }\n }\n \n #[derive(Serialize, Debug)]\n struct ServiceStatus {\n@@ -56,51 +52,46 @@\n     grpc_port: u16,\n }\n \n fn get_collector_status() -> CollectorStatus {\n-    CollectorStatus {\n-        state: \"Running\".to_string(),\n-        http_port: 4318,\n-        grpc_port: 4317,\n-    }\n+    CollectorStatus { state: \"Running\".to_string(), http_port: 4318, grpc_port: 4317 }\n }\n \n // CLI Layer (Input Validation + Output Shaping Only)\n \n /// Show status of all services\n #[noun(\"services\", \"Manage application services\")]\n-#[verb(\"status\")]\n+#[verb] // Verb name \"status\" auto-inferred from function name\n fn show_status() -> Result<ServiceStatus> {\n     Ok(get_service_status())\n }\n \n /// Show logs for a service\n-#[verb(\"logs\", \"services\")]\n+#[noun(\"services\", \"Manage application services\")]\n+#[verb] // Verb name \"logs\" auto-inferred, noun \"services\" auto-detected\n fn show_logs(service: String) -> Result<Logs> {\n     Ok(get_service_logs(service))\n }\n \n /// Restart a service\n-#[verb(\"restart\", \"services\")]\n+#[noun(\"services\", \"Manage application services\")]\n+#[verb] // Verb name \"restart\" auto-inferred, noun \"services\" auto-detected\n fn restart_service_cmd(service: String) -> Result<RestartResult> {\n     Ok(restart_service(service))\n }\n \n /// Start the collector\n #[noun(\"collector\", \"Manage data collector\")]\n-#[verb(\"up\")]\n+#[verb(\"up\")] // Custom verb name (not inferrable from function name)\n fn start_collector() -> Result<CollectorStatus> {\n     Ok(get_collector_status())\n }\n \n /// Stop the collector\n-#[verb(\"down\", \"collector\")]\n+#[noun(\"collector\", \"Manage data collector\")]\n+#[verb(\"down\")] // Custom verb name\n fn stop_collector() -> Result<CollectorStatus> {\n-    Ok(CollectorStatus {\n-        state: \"Stopped\".to_string(),\n-        http_port: 4318,\n-        grpc_port: 4317,\n-    })\n+    Ok(CollectorStatus { state: \"Stopped\".to_string(), http_port: 4318, grpc_port: 4317 })\n }\n \n fn main() -> Result<()> {\n     // Auto-discover all registered commands and run\n"
                }
            ],
            "date": 1762034411351,
            "name": "Commit-0",
            "content": "//! Basic example of noun-verb CLI usage with v3 attribute macro API\n\nuse clap_noun_verb::Result;\nuse clap_noun_verb_macros::{noun, verb};\nuse serde::Serialize;\n\n// Business Logic Layer (Pure Functions - Reusable)\nfn get_service_status() -> ServiceStatus {\n    ServiceStatus {\n        services: vec![\"web-server\".to_string(), \"database\".to_string(), \"redis\".to_string()],\n        all_running: true,\n    }\n}\n\nfn get_service_logs(service: String) -> Logs {\n    Logs {\n        service: service.clone(),\n        entries: vec![\n            format!(\"[2024-01-01 10:00:00] INFO: {} started\", service),\n            format!(\"[2024-01-01 10:00:01] INFO: {} listening on port\", service),\n        ],\n    }\n}\n\nfn restart_service(service: String) -> RestartResult {\n    RestartResult {\n        service,\n        success: true,\n        message: \"Service restarted successfully\".to_string(),\n    }\n}\n\n#[derive(Serialize, Debug)]\nstruct ServiceStatus {\n    services: Vec<String>,\n    all_running: bool,\n}\n\n#[derive(Serialize, Debug)]\nstruct Logs {\n    service: String,\n    entries: Vec<String>,\n}\n\n#[derive(Serialize, Debug)]\nstruct RestartResult {\n    service: String,\n    success: bool,\n    message: String,\n}\n\n#[derive(Serialize, Debug)]\nstruct CollectorStatus {\n    state: String,\n    http_port: u16,\n    grpc_port: u16,\n}\n\nfn get_collector_status() -> CollectorStatus {\n    CollectorStatus {\n        state: \"Running\".to_string(),\n        http_port: 4318,\n        grpc_port: 4317,\n    }\n}\n\n// CLI Layer (Input Validation + Output Shaping Only)\n\n/// Show status of all services\n#[noun(\"services\", \"Manage application services\")]\n#[verb(\"status\")]\nfn show_status() -> Result<ServiceStatus> {\n    Ok(get_service_status())\n}\n\n/// Show logs for a service\n#[verb(\"logs\", \"services\")]\nfn show_logs(service: String) -> Result<Logs> {\n    Ok(get_service_logs(service))\n}\n\n/// Restart a service\n#[verb(\"restart\", \"services\")]\nfn restart_service_cmd(service: String) -> Result<RestartResult> {\n    Ok(restart_service(service))\n}\n\n/// Start the collector\n#[noun(\"collector\", \"Manage data collector\")]\n#[verb(\"up\")]\nfn start_collector() -> Result<CollectorStatus> {\n    Ok(get_collector_status())\n}\n\n/// Stop the collector\n#[verb(\"down\", \"collector\")]\nfn stop_collector() -> Result<CollectorStatus> {\n    Ok(CollectorStatus {\n        state: \"Stopped\".to_string(),\n        http_port: 4318,\n        grpc_port: 4317,\n    })\n}\n\nfn main() -> Result<()> {\n    // Auto-discover all registered commands and run\n    clap_noun_verb::run()\n}\n"
        }
    ]
}